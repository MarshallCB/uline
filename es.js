const{replace:e}="",t=/[&<>'"]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=e=>s[e],r=s=>e.call(s,t,n),a=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,i=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,o=/<[a-z][^>]+$/i,c=/>[^<>]*$/,u=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,l=/\s+$/,p=(e,t)=>0<t--&&(o.test(e[t])||!c.test(e[t])&&p(e,t)),g=(e,t,s)=>i.test(t)?e:`<${t}${s.replace(l,"")}></${t}>`,{toString:$}=Function,{assign:h,keys:f}=Object,b="isÂµ"+Date.now(),w=new RegExp(`(\x3c!--${b}(\\d+)--\x3e|\\s*${b}(\\d+)=('|")([^\\4]+?)\\4)`,"g"),m=(e,t,s)=>` ${e}=${t}${r(s)}${t}`,k=e=>{switch(typeof e){case"string":return r(e);case"boolean":case"number":return String(e);case"object":switch(!0){case e instanceof Array:return e.map(k).join("");case e&&e.is_ustring:return e.toString()}}return null==e?"":r(String(e))};function d(e){const t=r(this[e]);return"role"===e?` role="${t}"`:` aria-${e.toLowerCase()}="${t}"`}function j(e){return` data-${t=e,t.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z])([A-Z]))/g,"$2$5-$3$6").toLowerCase()}="${r(this[e])}"`;var t}const{isArray:y}=Array,x=(S=new WeakMap,{get:e=>S.get(e),set:(e,t)=>(S.set(e,t),t)});var S;class A extends String{constructor(e){super(String(e)),this.is_ustring=!0}}const z=(e,t,s)=>{const{length:n}=t,r=x.get(e)||x.set(e,((e,t,s)=>{const n=((e,t,s)=>{const n=[],{length:r}=e;for(let s=1;s<r;s++){const r=e[s-1];n.push(a.test(r)&&p(e,s)?r.replace(a,((e,n,r)=>`${t}${s-1}=${r||'"'}${n}${r?"":'"'}`)):`${r}\x3c!--${t}${s-1}--\x3e`)}n.push(e[r-1]);const i=n.join("").trim();return s?i:i.replace(u,g)})(e,b,s),r=[];let i=0,o=null;for(;o=w.exec(n);){const e=n.slice(i,o.index);if(i=o.index+o[0].length,o[2])r.push((t=>e+k(t)));else{const t=o[5],s=o[4];switch(!0){case"aria"===t:r.push((t=>e+f(t).map(d,t).join("")));break;case"data"===t:r.push((n=>"string"==typeof n?e+m(t,s,n):e+f(n).map(j,n).join("")));break;case"style"===t:r.push((n=>{let r=e;return"string"==typeof n&&(r+=m(t,s,n)),"object"==typeof n&&n.is_ustring&&(r+=m(t,s,n.toString())),r}));break;case"."===t[0]:const n=t.slice(1).toLowerCase();r.push("dataset"===n?t=>e+f(t).map(j,t).join(""):t=>{let r=e;return null!=t&&!1!==t&&(r+=!0===t?` ${n}`:m(n,s,t)),r});break;case"on"===t.slice(0,2):r.push((n=>{let r=e;switch(typeof n){case"object":if(n.is_ustring){r+=m(t,s,n.toString());break}if(!(t in n))break;if("function"!=typeof(n=n[t]))break;case"function":if(n.toString===$)break;case"string":r+=m(t,s,n)}return r}));break;default:r.push((n=>{let r=e;return null!=n&&(r+=m(t,s,n)),r}))}}}const{length:c}=r;if(c!==t)throw new Error(`invalid template ${e}`);if(c){const e=r[c-1],t=n.slice(i);r[c-1]=s=>e(s)+t}else r.push((()=>n));return r})(e,n,s));return n?t.map(F,r).join(""):r[0]()},_=(e,t)=>y(e)?((e,t)=>e[0]+t.map(D,e).join(""))(e,t):e,v=e=>(e.node=e,e.for=()=>e,e),C=(e,...t)=>new A(_(e,t)),L=(e,...t)=>new A(_(e,t)),Z=(e,...t)=>new A(_(e,t)),E=v(((e,...t)=>new A(z(e,t,!1)))),q=v(((e,...t)=>new A(z(e,t,!0))));function D(e,t){return e+this[t+1]}function F(e,t){return this[t](e)}export{C as css,E as html,L as js,Z as raw,q as svg};
