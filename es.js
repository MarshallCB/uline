const{replace:e}="",t=/[&<>'"]/g,n={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},r=e=>n[e],s=n=>e.call(n,t,r),a=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,i=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,o=/<[a-z][^>]+$/i,c=/>[^<>]*$/,u=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,l=/\s+$/,p=(e,t)=>0<t--&&(o.test(e[t])||!c.test(e[t])&&p(e,t)),$=(e,t,n)=>i.test(t)?e:`<${t}${n.replace(l,"")}></${t}>`,{toString:g}=Function,{assign:h,keys:f}=Object,b="isÂµ"+Date.now(),m=new RegExp(`(\x3c!--${b}(\\d+)--\x3e|\\s*${b}(\\d+)=('|")([^\\4]+?)\\4)`,"g"),w=(e,t,n)=>` ${e}=${t}${s(n)}${t}`,k=e=>{switch(typeof e){case"string":return s(e);case"boolean":case"number":return String(e);case"object":switch(!0){case e instanceof Array:return e.map(k).join("");case e&&e.is_uline:return e.toString()}}return null==e?"":s(String(e))};function d(e){const t=s(this[e]);return"role"===e?` role="${t}"`:` aria-${e.toLowerCase()}="${t}"`}function y(e){return` data-${t=e,t.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z])([A-Z]))/g,"$2$5-$3$6").toLowerCase()}="${s(this[e])}"`;var t}const{isArray:j}=Array,x=(S=new WeakMap,{get:e=>S.get(e),set:(e,t)=>(S.set(e,t),t)});var S;class A extends String{constructor(e){super(String(e)),this.is_uline=!0}min(){return this}}const z=(e,t,n)=>{const{length:r}=t,s=x.get(e)||x.set(e,((e,t,n)=>{const r=((e,t,n)=>{const r=[],{length:s}=e;for(let n=1;n<s;n++){const s=e[n-1];r.push(a.test(s)&&p(e,n)?s.replace(a,((e,r,s)=>`${t}${n-1}=${s||'"'}${r}${s?"":'"'}`)):`${s}\x3c!--${t}${n-1}--\x3e`)}r.push(e[s-1]);const i=r.join("").trim();return n?i:i.replace(u,$)})(e,b,n),s=[];let i=0,o=null;for(;o=m.exec(r);){const e=r.slice(i,o.index);if(i=o.index+o[0].length,o[2])s.push((t=>e+k(t)));else{const t=o[5],n=o[4];switch(!0){case"aria"===t:s.push((t=>e+f(t).map(d,t).join("")));break;case"data"===t:s.push((r=>"string"==typeof r?e+w(t,n,r):e+f(r).map(y,r).join("")));break;case"style"===t:s.push((r=>{let s=e;return"string"==typeof r&&(s+=w(t,n,r)),r&&r.toString&&(s+=w(t,n,r.toString())),s}));break;case"."===t[0]:const r=t.slice(1).toLowerCase();s.push("dataset"===r?t=>e+f(t).map(y,t).join(""):t=>{let s=e;return null!=t&&!1!==t&&(s+=!0===t?` ${r}`:w(r,n,t)),s});break;case"on"===t.slice(0,2):s.push((r=>{let s=e;switch(typeof r){case"object":if(r.is_uline){s+=w(t,n,r.toString());break}if(!(t in r))break;if("function"!=typeof(r=r[t]))break;case"function":if(r.toString===g)break;case"string":s+=w(t,n,r)}return s}));break;default:s.push((r=>{let s=e;return null!=r&&(s+=w(t,n,r)),s}))}}}const{length:c}=s;if(c!==t)throw new Error(`invalid template ${e}`);if(c){const e=s[c-1],t=r.slice(i);s[c-1]=n=>e(n)+t}else s.push((()=>r));return s})(e,r,n));return r?t.map(E,s).join(""):s[0]()},v=e=>(e.node=e,e.for=()=>e,e),_=(e,...t)=>new A(((e,t)=>j(e)?((e,t)=>e[0]+t.map(Z,e).join(""))(e,t):e)(e,t)),C=v(((e,...t)=>new A(z(e,t,!1)))),L=v(((e,...t)=>new A(z(e,t,!0))));function Z(e,t){return e+this[t+1]}function E(e,t){return this[t](e)}export{C as html,_ as raw,L as svg};
